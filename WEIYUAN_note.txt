1) checkout out and build GEOSgcm_gigatraj
   git clone git@github.com:GEOS-ESM/GEOSgcm.git GEOSgcm_gigatraj
   cd GEOSgcm_gigatraj
   git checkout geos_gigatraj
   ./parallel_build.csh

2) After building GEOSgcm successfully, users can run ./gcm_setup just as a regular GEOSgcm setup in install/bin directory. Please refer to https://github.com/GEOS-ESM/GEOSgcm/wiki  for help

3) After the setup, users can find find the section GIGATRAJ CONFIG in AGCM.rc

GIGATRAJ_INTERNAL_RESTART_FILE: should be commented out for the first time when there is no internal restart file. 
GIGATRAJ_LON_START:     only two choices: 0 or -180
GIGATRAJ_PARCELS_FILE:  the file name that contains the particals information
GIGATRAJ_REBALANCE_MINUTES:  re-distributed the particals so each partical remains local to the data
GIGATRAJ_OUTPUT_MINUTES:   output interval
GIGATRAJ_EXTRA_FIELDS: extra information in the position of the particals


 # GIGATRAJ RUN CONFIG
# -------------------------
#GIGATRAJ_INTERNAL_RESTART_FILE:         gigatraj_internal_rst
GIGATRAJ_INTERNAL_CHECKPOINT_FILE:      gigatraj_internal_checkpoint
GIGATRAJ_INTERNAL_CHECKPOINT_TYPE:      default
GIGATRAJ_REGRID_TO_LATLON:              NO
# 0--360 or -180--180
GIGATRAJ_LON_START:                     -180.
GIGATRAJ_PARCELS_FILE:                  parcels.nc4
# time interval (minutes) to rebalance the parcels, i.e, the process keeps its own parcels
GIGATRAJ_REBALANCE_MINUTES:             15
# time interval (minutes) to write output
GIGATRAJ_OUTPUT_MINUTES:                15

# using ";" to separate fields
# fields supported: CA.bcDP;CA.ocWT;CA.bcphobic;CA.ocphobic;CA.bcphilic;CA.ocphilic
#GIGATRAJ_EXTRA_FIELDS:                  T;TH;CA.bcDP;CA.ocWT;CA.bcphobic;CA.ocphobic;CA.bcphilic;CA.ocphilic

4) HISTORY collections
   There would be a  geosgcm_gigatra collection that has some fields from GOCART







It may be obsolte below this line
##################### 
Build in discover

1) module load comp/gcc/12.1.0
2) module load mpi/openmpi/4.1.3/gcc-12.1.0

--enable-mpi is not used in configure but it is searching for mpi.h ( bug in Makefile)
without changing Makefile

3) setenv CC mpicc
4) setenv CXX mpicxx
5) autoreconf -f -i  ( optional, If there is erro "Makefile:351: recipe for target 'aclocal.m4' failed")
6) ./configure
7) make


For intel ifort

1) module load comp/intel/2021.6.0
2) module load mpi/impi/2021.6.0


./gtmodel_s01 --source MetGridSBRot --begdate 2021-07-15T16:00:00 --enddate 2021-07-20T16:00:00 --parcels  input_file.txt > output_file.txt 
